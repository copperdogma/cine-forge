You are configuring a film project from a screenplay. Analyze the following screenplay and detect project metadata.

==========
SCREENPLAY:

{{screenplay}}

==========
TASK:

Detect the following 10 project configuration fields. For each field, provide:
- value: the detected value
- confidence: 0.0-1.0 confidence score
- rationale: brief explanation of how you determined the value

Return a JSON object with these fields:

1. title (string): The title of the screenplay/film
2. format (string): The format type. Use one of: "feature film", "short film", "pilot", "limited series". Determine format from screenplay conventions (scene headings, character cues, dialogue formatting, narrative complexity) rather than raw page count alone.
3. genre (array of strings): ALL applicable genres. Be comprehensive â€” most screenplays span multiple genres. Consider: action, adventure, animation, comedy, crime, documentary, drama, fantasy, horror, mystery, musical, romance, sci-fi, thriller, war, western. Include every genre that has clear evidence in the text.
4. tone (array of strings): ALL tonal qualities present in the screenplay. Consider multiple dimensions: mood (dark, light, whimsical), intensity (intense, relaxed, frenetic), visual style (gritty, sleek, noir, stylized), violence level (violent, brutal, restrained), atmosphere (suspenseful, eerie, warm, bleak), and pacing (fast-paced, slow-burn, episodic). Include every quality supported by evidence.
5. estimated_duration_minutes (integer): Estimated runtime in minutes (use ~1 page per minute rule)
6. primary_characters (array of strings): Main characters (protagonists/antagonists)
7. supporting_characters (array of strings): Supporting and minor characters
8. location_count (integer): Number of distinct locations
9. locations_summary (string): Brief description of the key locations
10. target_audience (string or null): Target audience rating/demographic, null if uncertain

Be conservative. Avoid fabricated detail. Base all answers on evidence in the screenplay text.

Example structure:
{
  "title": {"value": "...", "confidence": 0.95, "rationale": "..."},
  "format": {"value": "...", "confidence": 0.9, "rationale": "..."},
  ...
}
