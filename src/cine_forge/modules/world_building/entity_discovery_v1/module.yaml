module_id: entity_discovery_v1
stage: world_building
description: "Incremental AI-first discovery of characters, locations, and props using a sliding window. Supports Refine mode via existing bibles."
input_schemas: ["canonical_script"]
optional_input_schemas: ["character_bible", "location_bible", "prop_bible"]
output_schemas: ["entity_discovery_results"]
parameters:
  chunk_size:
    type: integer
    default: 12000
    description: "Size of each text chunk in characters (approx 5 pages)."
  discovery_model:
    type: string
    default: "claude-haiku-4-5-20251001"
    description: "The cheap model used for discovery passes."
  enable_locations:
    type: boolean
    default: true
  enable_props:
    type: boolean
    default: true
  enable_characters:
    type: boolean
    default: true
